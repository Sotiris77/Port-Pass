services:
  - type: web
    name: global-port-pass-api
    env: docker
    region: frankfurt
    dockerfilePath: backend/Dockerfile
    healthCheckPath: /health
    autoDeploy: true
    envVars:
      - key: ENV
        value: production
      - key: SECRET_KEY
        sync: false
      - key: ACCESS_TOKEN_EXPIRE_MINUTES
        value: 60

      # Postgres (you will fill these from the DB you create in Render)
      - key: POSTGRES_USER
        sync: false
      - key: POSTGRES_PASSWORD
        sync: false
      - key: POSTGRES_DB
        sync: false
      - key: POSTGRES_HOST
        sync: false
      - key: POSTGRES_PORT
        value: 5432

      # Cloudflare R2 (S3-compatible)
      - key: S3_ENDPOINT_URL
        value: https://<your-account-id>.r2.cloudflarestorage.com
      - key: S3_BUCKET
        value: global-port-pass
      - key: S3_REGION
        value: auto
      - key: S3_ACCESS_KEY
        sync: false
      - key: S3_SECRET_KEY
        sync: false
      - key: S3_USE_SSL
        value: true
      - key: ADMIN_EMAIL
        value: sotiriskaramanoglou@gmail.com
